{"version":3,"sources":["../../src/transactions/MosaicCreationTransaction.js"],"names":["require","flatbuffers","MosaicCreationTransactionBuffer","Buffers","MosaicCreationTransaction","Builder","flags","fee","version","type","deadline","duration","divisibility","parentId","mosaicId","mosaicName","builder","mosaicNameLength","utf8ToHex","length","signatureVector","createSignatureVector","Array","map","Number","prototype","valueOf","signerVector","createSignerVector","deadlineVector","createDeadlineVector","feeVector","createFeeVector","parentIdVector","createParentIdVector","mosaicIdVector","createMosaicIdVector","createString","durationVector","createDurationVector","startMosaicCreationTransactionBuffer","addSize","addSignature","addSigner","addVersion","addType","addFee","addDeadline","addMosaicId","addParentId","addMosaicNameLength","addNumOptionalProperties","addFlags","addDivisibility","addMosaicName","addIndicateDuration","addDuration","codedMosaicCreation","endMosaicCreationTransactionBuffer","finish","bytes","asUint8Array"],"mappings":"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","file":"MosaicCreationTransaction.js","sourcesContent":["/*\n * Copyright 2018 NEM\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @module transactions/MosaicCreationTransaction\n */\nimport VerifiableTransaction from './VerifiableTransaction';\nimport MosaicCreationTransactionSchema from '../schema/MosaicCreationTransactionSchema';\nimport convert from '../coders/convert';\nimport MosaicCreationTransactionBufferPackage from '../buffers/MosaicCreationTransactionBuffer';\n\nconst { flatbuffers } = require('flatbuffers');\n\nconst { MosaicCreationTransactionBuffer } = MosaicCreationTransactionBufferPackage.Buffers;\n\nexport default class MosaicCreationTransaction extends VerifiableTransaction {\n\tstatic get Builder() {\n\t\tclass Builder {\n\t\t\tconstructor() {\n\t\t\t\tthis.flags = 0;\n\t\t\t\tthis.fee = [0, 0];\n\t\t\t\tthis.version = 36867;\n\t\t\t\tthis.type = 0x414d;\n\t\t\t}\n\n\t\t\taddFee(fee) {\n\t\t\t\tthis.fee = fee;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddVersion(version) {\n\t\t\t\tthis.version = version;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddType(type) {\n\t\t\t\tthis.type = type;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddDeadline(deadline) {\n\t\t\t\tthis.deadline = deadline;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddDuration(duration) {\n\t\t\t\tthis.duration = duration;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddDivisibility(divisibility) {\n\t\t\t\tthis.divisibility = divisibility;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddSupplyMutable() {\n\t\t\t\tthis.flags += 1;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddTransferability() {\n\t\t\t\tthis.flags += 2;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddLevyMutable() {\n\t\t\t\tthis.flags += 4;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddParentId(parentId) {\n\t\t\t\tthis.parentId = parentId;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddMosaicId(mosaicId) {\n\t\t\t\tthis.mosaicId = mosaicId;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\taddMosaicName(mosaicName) {\n\t\t\t\tthis.mosaicName = mosaicName;\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tbuild() {\n\t\t\t\tconst builder = new flatbuffers.Builder(1);\n\n\t\t\t\tconst mosaicNameLength = convert.utf8ToHex(this.mosaicName).length / 2;\n\n\t\t\t\t// Create vectors\n\t\t\t\tconst signatureVector = MosaicCreationTransactionBuffer\n\t\t\t\t\t.createSignatureVector(builder, Array(...Array(64)).map(Number.prototype.valueOf, 0));\n\t\t\t\tconst signerVector = MosaicCreationTransactionBuffer\n\t\t\t\t\t.createSignerVector(builder, Array(...Array(32)).map(Number.prototype.valueOf, 0));\n\t\t\t\tconst deadlineVector = MosaicCreationTransactionBuffer\n\t\t\t\t\t.createDeadlineVector(builder, this.deadline);\n\t\t\t\tconst feeVector = MosaicCreationTransactionBuffer\n\t\t\t\t\t.createFeeVector(builder, this.fee);\n\t\t\t\tconst parentIdVector = MosaicCreationTransactionBuffer\n\t\t\t\t\t.createParentIdVector(builder, this.parentId);\n\t\t\t\tconst mosaicIdVector = MosaicCreationTransactionBuffer\n\t\t\t\t\t.createMosaicIdVector(builder, this.mosaicId);\n\n\t\t\t\tconst mosaicName = builder.createString(this.mosaicName);\n\n\t\t\t\tconst durationVector = MosaicCreationTransactionBuffer\n\t\t\t\t\t.createDurationVector(builder, this.duration);\n\n\t\t\t\tMosaicCreationTransactionBuffer.startMosaicCreationTransactionBuffer(builder);\n\t\t\t\tMosaicCreationTransactionBuffer.addSize(builder, 149 + mosaicNameLength);\n\t\t\t\tMosaicCreationTransactionBuffer.addSignature(builder, signatureVector);\n\t\t\t\tMosaicCreationTransactionBuffer.addSigner(builder, signerVector);\n\t\t\t\tMosaicCreationTransactionBuffer.addVersion(builder, this.version);\n\t\t\t\tMosaicCreationTransactionBuffer.addType(builder, this.type);\n\t\t\t\tMosaicCreationTransactionBuffer.addFee(builder, feeVector);\n\t\t\t\tMosaicCreationTransactionBuffer.addDeadline(builder, deadlineVector);\n\t\t\t\tMosaicCreationTransactionBuffer.addMosaicId(builder, mosaicIdVector);\n\t\t\t\tMosaicCreationTransactionBuffer.addParentId(builder, parentIdVector);\n\t\t\t\tMosaicCreationTransactionBuffer.addMosaicNameLength(builder, mosaicNameLength);\n\t\t\t\tMosaicCreationTransactionBuffer.addNumOptionalProperties(builder, 1);\n\t\t\t\tMosaicCreationTransactionBuffer.addFlags(builder, this.flags);\n\n\t\t\t\tMosaicCreationTransactionBuffer.addDivisibility(builder, this.divisibility);\n\n\t\t\t\tMosaicCreationTransactionBuffer.addMosaicName(builder, mosaicName);\n\t\t\t\tMosaicCreationTransactionBuffer.addIndicateDuration(builder, 2);\n\t\t\t\tMosaicCreationTransactionBuffer.addDuration(builder, durationVector);\n\n\n\t\t\t\t// Calculate size\n\n\t\t\t\tconst codedMosaicCreation = MosaicCreationTransactionBuffer.endMosaicCreationTransactionBuffer(builder);\n\t\t\t\tbuilder.finish(codedMosaicCreation);\n\n\t\t\t\tconst bytes = builder.asUint8Array();\n\t\t\t\treturn new MosaicCreationTransaction(bytes, MosaicCreationTransactionSchema);\n\t\t\t}\n\t\t}\n\n\t\treturn Builder;\n\t}\n}\n"]}